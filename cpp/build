#clang++-10 -v -O3 -fcoroutines-ts -std=c++20 -I include -I makham/include -I makham/include/felspar/makham src/parser.cpp -stdlib=libc++ -o bin/parser

## libparser.a
# rm bin/parser.o
# rm bin/libparser.a
#clang++-10 -v -c -O3 -fcoroutines-ts -std=c++20 -I include -I makham/include -I makham/include/felspar/makham src/parser.cpp -stdlib=libc++ -o bin/parser.o
#llvm-ar-10 -rc bin/libparser.a bin/parser.o 

## test_parser
#rm bin/test_parser
#clang++-10 -v -O3 -fcoroutines-ts -std=c++20 -I include -I makham/include -I makham/include/felspar/makham tests/test_parser.cpp -stdlib=libc++ bin/libparser.a -o bin/test_parser
#bin/test_parser


## test_stack
#rm bin/test_stack
#clang++-10 -v -O3 -fcoroutines-ts -std=c++20 -I include -I makham/include -I makham/include/felspar/makham tests/test_stack.cpp -stdlib=libc++ -o bin/test_stack
#bin/test_stack


# libtype.a
rm bin/type.o
rm bin/operation.o
#rm bin/continuation.o
rm bin/libtype.a
clang++-10 -v -c -O3 -fcoroutines-ts -std=c++20 -I include -I makham/include -I makham/include/felspar/makham src/type.cpp -stdlib=libc++ -o bin/type.o
clang++-10 -v -c -O3 -fcoroutines-ts -std=c++20 -I include -I makham/include -I makham/include/felspar/makham src/operation.cpp -stdlib=libc++ -o bin/operation.o
llvm-ar-10 -rc bin/libtype.a bin/type.o bin/operation.o

# test_type
rm bin/test_type
clang++-10 -v -O3 -fcoroutines-ts -std=c++20 -I include -I makham/include -I makham/include/felspar/makham tests/test_type.cpp -stdlib=libc++ bin/libtype.a -o bin/test_type
bin/test_type
